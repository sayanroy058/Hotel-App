{% extends "base.html" %}

{% block title %}Add New Room - {{ session.username }}{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h2><i class="fas fa-plus"></i> Add New Room</h2>
        <p class="text-muted">Add a new room to your hotel inventory</p>
    </div>
</div>

<div class="row">
    <div class="col-lg-8">
        <div class="card">
            <div class="card-header">
                <h5><i class="fas fa-bed"></i> Room Details</h5>
            </div>
            <div class="card-body">
                <form method="POST" class="needs-validation" novalidate>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="room_number" class="form-label">Room Number *</label>
                                <input type="text" class="form-control" id="room_number" name="room_number" required>
                                <div class="invalid-feedback">Please provide a room number.</div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="room_type" class="form-label">Room Type *</label>
                                <select class="form-select" id="room_type" name="room_type" required>
                                    <option value="">Select Room Type</option>
                                    <option value="Standard Single">Standard Single</option>
                                    <option value="Standard Double">Standard Double</option>
                                    <option value="Deluxe Single">Deluxe Single</option>
                                    <option value="Deluxe Double">Deluxe Double</option>
                                    <option value="Suite">Suite</option>
                                    <option value="Premium Suite">Premium Suite</option>
                                    <option value="Presidential Suite">Presidential Suite</option>
                                </select>
                                <div class="invalid-feedback">Please select a room type.</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="price_per_night" class="form-label">Price per Night (â‚¹) *</label>
                                <input type="number" class="form-control" id="price_per_night" name="price_per_night" 
                                       min="0" step="0.01" required>
                                <div class="invalid-feedback">Please provide a valid price.</div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="capacity" class="form-label">Maximum Capacity *</label>
                                <input type="number" class="form-control" id="capacity" name="capacity" 
                                       min="1" max="10" required>
                                <div class="invalid-feedback">Please provide room capacity (1-10 guests).</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="amenities" class="form-label">Amenities</label>
                        <textarea class="form-control" id="amenities" name="amenities" rows="4" 
                                  placeholder="List room amenities (e.g., AC, TV, WiFi, Mini Bar, etc.)"></textarea>
                        <div class="form-text">Describe the amenities available in this room</div>
                    </div>
                    
                    <div class="mt-4">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> Add Room
                        </button>
                        <a href="{{ url_for('owner_rooms') }}" class="btn btn-secondary">
                            <i class="fas fa-times"></i> Cancel
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <div class="col-lg-4">
        <div class="card">
            <div class="card-header">
                <h5><i class="fas fa-info-circle"></i> Room Guidelines</h5>
            </div>
            <div class="card-body">
                <h6>Room Number</h6>
                <p class="small text-muted">Use a unique identifier for each room (e.g., 101, 102, A1, B2)</p>
                
                <h6>Room Types</h6>
                <ul class="small text-muted">
                    <li><strong>Standard:</strong> Basic amenities</li>
                    <li><strong>Deluxe:</strong> Enhanced comfort</li>
                    <li><strong>Suite:</strong> Separate living area</li>
                    <li><strong>Premium/Presidential:</strong> Luxury accommodations</li>
                </ul>
                
                <h6>Pricing Tips</h6>
                <p class="small text-muted">Consider seasonal rates, local competition, and room features when setting prices.</p>
                
                <h6>Capacity</h6>
                <p class="small text-muted">Set realistic capacity based on bed configuration and room size.</p>
            </div>
        </div>
        
        <div class="card mt-3">
            <div class="card-header">
                <h5><i class="fas fa-lightbulb"></i> Quick Tips</h5>
            </div>
            <div class="card-body">
                <div class="alert alert-info alert-sm">
                    <i class="fas fa-info-circle"></i> You can edit room details anytime after creation.
                </div>
                <div class="alert alert-warning alert-sm">
                    <i class="fas fa-exclamation-triangle"></i> Room numbers must be unique within your hotel.
                </div>
                <div class="alert alert-success alert-sm">
                    <i class="fas fa-check-circle"></i> Detailed amenities help guests make informed decisions.
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Form validation
(function() {
    'use strict';
    window.addEventListener('load', function() {
        var forms = document.getElementsByClassName('needs-validation');
        var validation = Array.prototype.filter.call(forms, function(form) {
            form.addEventListener('submit', function(event) {
                if (form.checkValidity() === false) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.classList.add('was-validated');
            }, false);
        });
    }, false);
})();

// Auto-suggest amenities
document.getElementById('amenities').addEventListener('focus', function() {
    if (this.value === '') {
        this.placeholder = 'AC, TV, WiFi, Mini Bar, Room Service, Balcony, Sea View, etc.';
    }
});
</script>
{% endblock %}